Bootstrap: docker
From: ubuntu:22.04

%environment
    # set up environment for when using the container
    . /opt/conda/etc/profile.d/conda.sh
    conda activate
%files 
    /home/hoitim.cheung/gc/cw_manager/cw_manager
    /home/hoitim.cheung/gc/cw_manager/cw_manager /opt
%post
    # base os
    apt-get update -y
    apt-get install -y build-essential wget
    
    # install miniconda
    wget https://repo.anaconda.com/miniconda/Miniconda3-py310_23.5.2-0-Linux-x86_64.sh
    bash Miniconda3-py310_23.5.2-0-Linux-x86_64.sh -b -f -p /opt/conda
    rm Miniconda3-py310_23.5.2-0-Linux-x86_64.sh

    # install conda components - add the packages you need here
    . /opt/conda/etc/profile.d/conda.sh
    conda activate 
    python -m pip install /opt/cw_manager/.


    # Install Miniconda with Python 3.10
    
